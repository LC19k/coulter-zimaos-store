name: samba-ad-dc
services:
  samba:
    image: ghcr.io/crazy-max/samba:0.19.0
    container_name: samba-ad-dc
    restart: unless-stopped
    environment:
      - TZ=${TZ}
      - SAMBA_SERVER_ROLE=ad-dc
      - SAMBA_DOMAIN=HOUSEHOLD
      - SAMBA_REALM=HOUSEHOLD.LAN
      - SAMBA_ADMIN_PASSWORD=ChangeMeNow_42
      - SAMBA_NETBIOS_NAME=DC1
      - SAMBA_WORKGROUP=HOUSEHOLD
    volumes:
      - /DATA/AppData/samba-ad-dc/etc:/etc/samba
      - /DATA/AppData/samba-ad-dc/data:/var/lib/samba
      - /DATA/AppData/samba-ad-dc/state:/var/cache/samba
      - /DATA/AppData/samba-ad-dc/log:/var/log/samba
    networks:
      backend:
        mac_address: 52:54:00:01:83:00
      infrastructure:
        mac_address: 52:54:00:01:01:00

networks:
  backend:
    external: true
  infrastructure:
    external: true

x-casaos:
  architectures: [amd64]
  main: samba
  category: Identity
  description:
    en_US: Active Directory Domain Controller powered by Samba.
  icon: ./icon.png
  screenshots:
    - ./screenshot-1.png
  title:
    en_US: Samba AD DC
  tagline:
    en_US: Windows-friendly household identity backbone.
