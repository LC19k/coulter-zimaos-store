{
  "id": "keycloak",
  "title": "Keycloak",
  "description": "Open Source Identity and Access Management. Provides SSO, OAuth2, OIDC, SAML, and LDAP federation.",
  "icon": "https://www.keycloak.org/resources/images/keycloak_logo_200px.png",
  "image": "quay.io/keycloak/keycloak:latest",
  "ports": [
    {
      "container": "8080",
      "host": "8080",
      "protocol": "tcp"
    }
  ],
  "volumes": [
    {
      "container": "/opt/keycloak/data",
      "host": "/DATA/AppData/keycloak/data"
    }
  ],
  "envs": [
    { "name": "KEYCLOAK_ADMIN", "value": "admin" },
    { "name": "KEYCLOAK_ADMIN_PASSWORD", "value": "${KEYCLOAK_ADMIN_PASSWORD}" },
    { "name": "KC_DB", "value": "postgres" },
    { "name": "KC_DB_URL", "value": "jdbc:postgresql://postgres:5432/keycloak" },
    { "name": "KC_DB_USERNAME", "value": "keycloak" },
    { "name": "KC_DB_PASSWORD", "value": "${KC_DB_PASSWORD}" }
  ],
  "networks": [
    {
      "name": "backend-net",
      "driver": "ipvlan",
      "subnet": "10.0.83.0/24",
      "gateway": "10.0.83.1",
      "parent": "br0.83"
    },
    {
      "name": "frontend-net",
      "driver": "ipvlan",
      "subnet": "10.0.0.0/22",
      "gateway": "10.0.0.1",
      "parent": "br0"
    }
  ],
  "restart_policy": "always",
  "categories": ["Identity", "Security"],
  "healthcheck": {
    "test": ["CMD", "curl", "-f", "http://localhost:8080"],
    "interval": "30s",
    "timeout": "10s",
    "retries": 3
  }
}
