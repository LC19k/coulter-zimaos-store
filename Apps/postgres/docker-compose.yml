name: postgres
services:
  postgres:
    image: postgres:15.5   # specific version, not :latest
    container_name: postgres
    restart: unless-stopped
    environment:
      - POSTGRES_USER=admin
      - POSTGRES_PASSWORD=admin
      - POSTGRES_DB=household
      - TZ=${TZ}
      - PUID=${PUID}
      - PGID=${PGID}
    ports:
      - target: 5432
        published: ${WEBUI_PORT:-5432}
        protocol: tcp
    volumes:
      - type: bind
        source: /DATA/AppData/postgres/data
        target: /var/lib/postgresql/data
    x-casaos:
      envs:
        - container: POSTGRES_USER
          description:
            en_US: Default database user
        - container: POSTGRES_PASSWORD
          description:
            en_US: Default database password
        - container: POSTGRES_DB
          description:
            en_US: Default database name
      ports:
        - container: "5432"
          description:
            en_US: PostgreSQL database port
      volumes:
        - container: /var/lib/postgresql/data
          description:
            en_US: PostgreSQL data directory

x-casaos:
  architectures:
    - amd64
    - arm64
  main: postgres
  author: Lawrence Household
  category: Database
  description:
    en_US: Powerful open source relational database system.
  developer: PostgreSQL Global Development Group
  icon: https://www.postgresql.org/media/img/about/press/elephant.png
  title:
    en_US: PostgreSQL
  tagline:
    en_US: Reliable relational database for household apps.
  tips:
    before_install:
      en_US: |
        Default credentials are `admin` / `admin`. Please change them after first login.
  index: /
  port_map: ${WEBUI_PORT:-5432}
